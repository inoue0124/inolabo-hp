{"version":3,"sources":["webpack:///./src/templates/blog-post.js"],"names":["ArticleTemplate","render","this","props","data","topic","pageContext","post","markdownRemark","similarPosts","allMarkdownRemark","edges","filter","item","node","frontmatter","category","title","index","console","log","pageType","description","id","className","to","tags","map","tag","key","split","join","toLowerCase","date","fluid","featuredImage","childImageSharp","dangerouslySetInnerHTML","__html","html","length","fields","slug","Component"],"mappings":"6MAOMA,E,kGACJC,OAAA,WACE,MAA8BC,KAAKC,MAA3BC,EAAR,EAAQA,KACAC,EADR,EAAcC,YACND,MACFE,EAAOH,EAAKI,eAEZC,EAAeL,EAAKM,kBAAkBC,MACzCC,QAAO,SAAAC,GACN,OACEA,EAAKC,KAAKC,YAAYC,WAAaX,GACnCQ,EAAKC,KAAKC,YAAYE,QAAUV,EAAKQ,YAAYE,SAGpDL,QAAO,SAACC,EAAMK,GACb,OAAOA,EAAQ,KAKnB,OAFAC,QAAQC,IAAIX,GAGV,kBAAC,IAAD,CAAQY,SAAS,QACf,kBAAC,IAAD,CACEJ,MAAOV,EAAKQ,YAAYE,MACxBK,YAAaf,EAAKQ,YAAYO,cAEhC,yBAAKC,GAAG,WACN,gCACE,wBAAIC,UAAU,iBAAiBjB,EAAKQ,YAAYE,OAChD,uBAAGO,UAAU,oBAAb,QAEE,kBAAC,OAAD,CAAMC,GAAE,IAAMlB,EAAKQ,YAAYC,UAC5BT,EAAKQ,YAAYC,WAGtB,yBAAKQ,UAAU,gBACZjB,EAAKQ,YAAYW,KAAKC,KAAI,SAAAC,GAAG,OAC5B,kBAAC,OAAD,CACEJ,UAAU,MACVK,IAAKD,EACLH,GAAE,IAAMG,EACLE,MAAM,KACNC,KAAK,KACLD,MAAM,KACNC,KAAK,KACLC,eAEFJ,OAIP,uBAAGJ,UAAU,gBAAgBjB,EAAKQ,YAAYkB,MAC9C,kBAAC,IAAD,CACEC,MAAO3B,EAAKQ,YAAYoB,cAAcC,gBAAgBF,MACtDV,UAAU,mBAGd,yBACEA,UAAU,mBACVa,wBAAyB,CAAEC,OAAQ/B,EAAKgC,QAG1C,6BACG9B,EAAa+B,OAAS,GACrB,wBAAIjB,GAAG,wBAAP,YAGF,iCACGd,EAAakB,KAAI,YAAe,IAAZb,EAAW,EAAXA,KACnB,OACE,kBAAC,IAAD,CACEe,IAAKf,EAAK2B,OAAOC,KACjBR,MAAOpB,EAAKC,YAAYoB,cAAcC,gBAAgBF,MACtDjB,MAAOH,EAAKC,YAAYE,MACxBD,SAAUF,EAAKC,YAAYC,SAC3BU,KAAMZ,EAAKC,YAAYW,KACvBgB,KAAM5B,EAAK2B,OAAOC,e,GA3ERC,aAuFf3C","file":"component---src-templates-blog-post-js-1a229c928fa62c8722bc.js","sourcesContent":["import React, { Component } from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport Layout from \"../components/blog/layout\"\nimport Image from \"gatsby-image\"\nimport SEO from \"../components/seo\"\nimport Card from \"../components/blog/card\"\n\nclass ArticleTemplate extends Component {\n  render() {\n    const { data, pageContext } = this.props\n    const { topic } = pageContext\n    const post = data.markdownRemark\n\n    const similarPosts = data.allMarkdownRemark.edges\n      .filter(item => {\n        return (\n          item.node.frontmatter.category === topic &&\n          item.node.frontmatter.title !== post.frontmatter.title\n        )\n      })\n      .filter((item, index) => {\n        return index < 2\n      })\n\n    console.log(similarPosts)\n\n    return (\n      <Layout pageType=\"Post\">\n        <SEO\n          title={post.frontmatter.title}\n          description={post.frontmatter.description}\n        />\n        <div id=\"article\">\n          <header>\n            <h1 className=\"article-title\">{post.frontmatter.title}</h1>\n            <p className=\"article-category\">\n              カテゴリ:\n              <Link to={`/${post.frontmatter.category}`}>\n                {post.frontmatter.category}\n              </Link>\n            </p>\n            <div className=\"article-tags\">\n              {post.frontmatter.tags.map(tag => (\n                <Link\n                  className=\"tag\"\n                  key={tag}\n                  to={`/${tag\n                    .split(\" \")\n                    .join(\"-\")\n                    .split(\"/\")\n                    .join(\"-\")\n                    .toLowerCase()}`}\n                >\n                  {tag}\n                </Link>\n              ))}\n            </div>\n            <p className=\"article-date\">{post.frontmatter.date}</p>\n            <Image\n              fluid={post.frontmatter.featuredImage.childImageSharp.fluid}\n              className=\"article-image\"\n            ></Image>\n          </header>\n          <div\n            className=\"article-markdown\"\n            dangerouslySetInnerHTML={{ __html: post.html }}\n          />\n\n          <div>\n            {similarPosts.length > 0 && (\n              <h3 id=\"similar-posts-header\">おすすめ記事一覧</h3>\n            )}\n\n            <section>\n              {similarPosts.map(({ node }) => {\n                return (\n                  <Card\n                    key={node.fields.slug}\n                    fluid={node.frontmatter.featuredImage.childImageSharp.fluid}\n                    title={node.frontmatter.title}\n                    category={node.frontmatter.category}\n                    tags={node.frontmatter.tags}\n                    slug={node.fields.slug}\n                  />\n                )\n              })}\n            </section>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default ArticleTemplate\nexport const pageQuery = graphql`\n  query ArticleBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"YYYY年MM月DD日\")\n        dateModified(formatString: \"YYYY年MM月DD日\")\n        description\n        tags\n        category\n        featuredImage {\n          childImageSharp {\n            fluid(maxWidth: 800) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    }\n    allMarkdownRemark {\n      edges {\n        node {\n          id\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            tags\n            category\n            featuredImage {\n              childImageSharp {\n                fluid(maxWidth: 400) {\n                  ...GatsbyImageSharpFluid\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}